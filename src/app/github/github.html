<h2>GitHub Repositories</h2>

<form (ngSubmit)="fetchRepos()">
    <mat-form-field>
        <mat-label>Username</mat-label>
        <input
            [(ngModel)]="username"
            name="username"
            placeholder="Enter a GitHub username"
            required
            matInput
        />
        <button
            class='search-button'
            mat-icon-button
            matSuffix
            aria-label="Search"
            aria-controls="searchInput">
            <mat-icon>search</mat-icon>
        </button>
    </mat-form-field>
</form>

<div *ngIf="error" class="error">{{ error }}</div>

<div [hidden]="!repos">
    <table mat-table [dataSource]="dataSource">
        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> Name </th>
            <td mat-cell *matCellDef="let repo"> {{repo.name}} </td>
        </ng-container>
        <ng-container matColumnDef="stargazers">
            <th mat-header-cell *matHeaderCellDef> Stargazers </th>
            <td mat-cell *matCellDef="let repo"> {{repo.stargazersCount}} </td>
        </ng-container>
        <ng-container matColumnDef="language">
            <th mat-header-cell *matHeaderCellDef> Language </th>
            <td mat-cell *matCellDef="let repo"> {{repo.language}} </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="repoFields"></tr>
        <tr mat-row *matRowDef="let row; columns: repoFields;"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[5, 10, 20]"
                    showFirstLastButtons
                    aria-label="Select page of repositories">
    </mat-paginator>
</div>

